# 基于 OpenHarmony 的高糖度番茄智慧温室监测管理系统
基于 OpenHarmony 的高糖度番茄智慧温室监测管理系统

## 项目简介  
本系统针对国内番茄产量高但精品果率低、糖度普遍偏低的痛点，基于通晓SMART-R开发板（RK2206芯片）和OpenHarmony操作系统构建，通过实时环境监测、精准自动控制、远程云端管理，为高糖度番茄培育提供稳定的生长环境，目标提升精品果率并实现产品溢价，助力农户增收。


## 核心功能  
1. 实时环境监测：通过温湿度传感器、光照传感器、土壤湿度传感器，以1次/秒的频率采集温室温度、湿度、光照强度、土壤墒情数据，误差控制在±0.1℃、±1%RH以内。  
2. 自动精准控制：  
   - 温度超过或低于设定阈值时，自动启动风扇降温；  
   - 土壤湿度低于预设阈值时，启动灌溉系统（精度±100ml/次）；  
   - 光照强度低于250Lux时，开启LED补光灯（红光:蓝光=3:1，响应时间<1秒）。  
3. 远程云端管理：通过Wi-Fi模块连接华为云IoTDA平台，支持手机/电脑端实时查看数据、远程控制设备（风扇、灌溉、补光灯）、接收异常预警（如温度超限）。  
4. 异常预警：当环境参数超出阈值，系统通过蜂鸣器+报警灯本地提醒，并向用户手机推送预警信息。


## 技术栈  
### 硬件组成  
| 组件                | 型号/规格                  | 功能                              |
|---------------------|-----------------------------|-----------------------------------|
| 核心开发板          | 通晓SMART-R（RK2206芯片）   | 系统控制中枢，运行OpenHarmony     |
| 环境传感器          | 温湿度传感器、光照传感器、土壤湿度传感器| 采集温度、湿度、光照、土壤墒情    |
| 执行设备            | 风扇、灌溉泵、LED补光灯（红+蓝组合） | 实现降温、灌溉、补光控制          |
| 通信模块            | Wi-Fi模块         | 连接华为云平台，传输数据          |

### 软件架构  
系统采用模块化设计，分为5大核心模块（如图10所示）：  
1. 数据采集模块：读取传感器数据，封装为JSON格式；  
2. 数据处理模块：对数据进行滤波（消除噪声）、校准（修正偏差），并与预设阈值对比；  
3. 控制模块：根据处理结果驱动执行设备（风扇、灌溉、补光），支持手动/自动模式切换；  
4. 通信模块：通过MQTT协议将数据上传至华为云，接收云端控制指令；  
5. 用户界面模块：华为云平台提供可视化界面（实时数据看板、设备控制）。  


## 系统特点  
- 智能化：基于糖代谢酶活性、糖分转运等生理规律，实现环境因子精准调控；  
- 物联网化：支持远程监控与控制，管理半径从单温室扩展至千亩园区；  
- 模块化：硬件/软件均采用“即插即用”设计，更换作物（如草莓、黄瓜）仅需调整阈值参数；  
- 高精度：温度控制误差±0.5℃、灌溉精度±100ml/次、LED响应时间<1秒，保障糖度积累效率。  


## 快速开始  
### 1. 硬件搭建  
将传感器（温湿度、光照、土壤湿度）通过GPIO接口连接至通晓开发板，执行设备（风扇、灌溉泵、LED灯）通过MOSFET驱动电路连接。  

### 2. 程序烧录  
- 安装OpenHarmony DevEco Studio；  
- 导入项目代码，配置开发板参数（RK2206）；  
- 将程序烧录至开发板。  

### 3. 云平台配置  
- 注册华为云账号，创建IoTDA设备；  
- 获取MQTT连接参数（设备ID、密钥），配置至系统通信模块；  
- 登录华为云平台，查看实时数据与设备状态。  

### 4. 启动系统  
给开发板供电，系统自动启动：  
- LCD屏幕显示当前环境参数（温度、湿度、光照）；  
- 传感器开始采集数据，若参数超限，执行设备自动响应；  
- 用户可通过华为云平台远程控制设备。  


## 使用说明  
1. **实时监控**：登录华为云平台，查看“模型数据区”的温度、湿度、光照及设备状态（风扇、灯光）；  
2. **远程控制**：在平台界面点击“风扇启动”“LED开启”等按钮，远程控制设备；  
3. **参数设置**：通过“用户界面模块”调整阈值；  
4. **异常处理**：收到预警信息后，及时检查设备或调整环境。


## 致谢  
- 硬件支持：通晓SMART-R开发板；  
- 云服务支持：华为云IoTDA平台；  
- 参考资料：《“十四五”全国种植业发展规划》、番茄糖代谢研究文献。  

---  
**实时云眸团队**  
2025年7月
